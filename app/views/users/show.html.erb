<%= @user.avatar.present? ? image_tag(@user.avatar.variant(:full).processed.url, class: "size-48 rounded-2xl") : "" %>

<div class="mx-auto md:w-2/3 w-full">
  <div class="flex justify-between">
    <div class="font-bold text-4xl"><%= "#{@user.username}'s profile" %></div>

    <% if @user == Current.user %>
      <div class="w-full sm:w-auto text-center text-white rounded-md px-3.5 py-2.5 bg-teal-400 hover:bg-teal-300 inline-block font-medium">
        <%= link_to "Edit profile", edit_user_path(@user) %>
      </div>
    <% end %>
  </div>
  <hr class="my-5">
  <div class="min-w-full divide-y divide-gray-200 space-y-5">
    <%= render "posts/form", resource: @user, post: Post.new %>

    <%= turbo_stream_from "posts_for_user_#{@user.id}" %>

    <% if @user.profile_posts.any? %>
      <turbo-frame id="posts">
        <%= render @user.profile_posts.order(created_at: :desc) %>
      </turbo-frame>
    <% else %>
      <p class="text-center my-10">Nothing here...</p>
    <% end%>
  </div>
</div>
